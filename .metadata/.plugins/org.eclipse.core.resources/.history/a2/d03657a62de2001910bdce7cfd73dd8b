import java.sql.Array;
import java.util.Arrays;

public class ManagementPeople <T>{
	Data<T> head;
	Data<T> tail;
	int tam = 0;
	
	public void Annadir(T reserva) {
		Data<T> valor = new Data<T> (reserva);
		
		if(this.head == null) {
			this.head = valor;
		}
		else {
			valor.prev = this.tail;
			this.tail.next = valor;
		}
		this.tail = valor;
		valor.next = null;
		System.out.println("La reserva se ha añadido exitosamente");
		tam++;
	}
	
	public void Eliminar(T reserva) {
		
		Data<T> valor = new Data<T> (reserva);
		
		if(this.head == null && this.tail == null) {
			System.out.println("La lista está vacía, no es posible eliminar reservas");
		} 
		else if(this.head == this.tail) {
			this.head = null;
			this.tail = null;
			System.out.println("La reserva se ha eliminado exitosamente");
			tam--;
		} 
		else {
			Data<T> busca_valor = this.head;
			
			for(int i = 0; i < tam; i++) {
				if(busca_valor.value != valor.value && busca_valor.next == null) {
					System.out.println("Ésta reserva no se ha encontrado, no es posible eliminarla");
				}
				else if(busca_valor.value == valor.value) {
						busca_valor.prev.next = busca_valor.next;
						busca_valor.next.prev = busca_valor.prev;
						busca_valor.prev = null;
						busca_valor.next = null;
						System.out.println("La reserva se ha eliminado exitosamente");
						tam--;
						break;						
				}
				
				if(busca_valor.next != null) {
					busca_valor = busca_valor.next;
				}				
			}
		}
	}
	
	public void Vacía() {
		if(this.head == null && this.tail == null) {
			System.out.println("La lista está vacía, no se encontró ninguna reserva");
		}
		else {
			System.out.println("La lista si presenta reservas");
		}
	}
	
	public void Mostrar() {
		if(this.head == null && this.tail == null) {
			System.out.println("La lista está vacía, no es posible mostrala");
		}
		else {
			Data<T> valor = this.head;
			System.out.println("Las reservas encontradas son las siguientes:");
			
			for(int i = 0; i < tam; i++) {
				int[] test= (int[]) valor.value;
				for(int j = 0; j < test.length; j++) {
					System.out.print(test[j] + " ");
				}
				//System.out.println(valor.value);
				
				//System.out.println(valor.value instanceof Integer[]);
				//if(valor.value instanceof Integer[]) {
					//System.out.println(valor.value);
					//System.out.println("Si");
				//}
				if(valor.next != null) {
					valor = valor.next;
				}
			}
		}
	}
	
	public static void main(String[] args) {
		ManagementPeople<int[]> prueba= new ManagementPeople<int[]> ();
		int[] arreglo = new int[3];
		arreglo[0]=1;
		arreglo[1]=2;
		arreglo[2]=3;
		
		//int[] test= (int []) arreglo.clone();
		//System.out.println(arreglo[3] != null);
		prueba.Annadir(arreglo);
		prueba.Mostrar();
		//prueba.Eliminar(3);
		//prueba.Mostrar();
	}
	
}
